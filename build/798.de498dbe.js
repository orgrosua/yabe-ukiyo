"use strict";(self.webpackChunkyabe_ukiyo_src=self.webpackChunkyabe_ukiyo_src||[]).push([[798],{8583:(e,a,t)=>{t.r(a),t.d(a,{default:()=>J});t(533),t(6468),t(4229),t(7352),t(7023);var n=t(5414),i=t(437),l=t(7127),s=t(7339),o=t(5390),c=t(5949),r=t(8598),d=t(7059),_=t(3187),u=t(772),p={class:"form-table",role:"presentation"},m={scope:"row"},y={for:"enable_integration"},g={class:""},w=["checked","value"],h={for:"enable_integration"},b={class:"description"},v={scope:"row"},k={for:"print_purchase_page"},f={class:""},S=["checked","value"],U={for:"print_purchase_page"},z={class:"description"},Z={scope:"row"},V={for:"print_receipt_email"},T={class:""},D=["checked","value"],C={for:"print_receipt_email"},P={class:"description"},x={scope:"row"},E={for:"payment_status_deactivate"},I={class:"description"},L={scope:"row"},G={for:"payment_status_activate"},M={class:"description"},R={scope:"row"},W={for:"generate_missing_license_keys"},q={class:""},A=["disabled"],B={class:"description"};const J={__name:"EasyDigitalDownloads",setup:function(e){var a=(0,c.V)(),t=(0,r.Jk)(a).setting,J=(0,d.k)(),K=(0,u.h)(),O=(0,_.c)(),j=["abandoned","refunded","failed","pending","preapproved","processing","revoked","payment_deleted","item_removed"],F=function(e){return!(0,o.Z)(t.value,"ecommerce.easydigitaldownloads.deactivate_when_payment_status",[]).includes(e)&&!(0,o.Z)(t.value,"ecommerce.easydigitaldownloads.revoke_when_payment_status",[]).includes(e)};function H(){if(confirm("Are you sure you want to generate the missing license keys?")){O.add("settings.ecommerce.easy-digital-downloads:generate-missing-license");var e=K.request({method:"POST",url:"/ecommerce/easydigitaldownloads/generate-missing-license"}).then((function(e){})).finally((function(){O.remove("settings.ecommerce.easy-digital-downloads:generate-missing-license")}));J.async(e,"License keys generated successfully.",void 0,"Generating the missing license keys...")}}return function(e,a){var c=(0,n.up)("VueSelect");return(0,n.wg)(),(0,n.iD)("table",p,[(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("th",m,[(0,n._)("label",y,(0,i.zw)(e.__("Enable Integration","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n._)("div",g,[(0,n._)("input",{type:"checkbox",name:"enable_integration",id:"enable_integration",checked:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.enable_integration",!1),value:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.enable_integration",!1),onInput:a[0]||(a[0]=function(e){var a;return(0,l.SU)(s.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.enable_integration",!(null!==(a=(0,l.SU)(t))&&void 0!==a&&null!==(a=a.ecommerce)&&void 0!==a&&null!==(a=a.easydigitaldownloads)&&void 0!==a&&a.enable_integration))}),class:"mr:8"},null,40,w),(0,n._)("label",h,(0,i.zw)(e.__("To enable integration, please tick this box.","yabe-ukiyo")),1)]),(0,n._)("p",b,(0,i.zw)(e.__("The Easy Digital Downloads integration module will be loaded.","yabe-ukiyo")),1)])]),(0,n._)("tr",null,[(0,n._)("th",v,[(0,n._)("label",k,(0,i.zw)(e.__("Purchase Page","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n._)("div",f,[(0,n._)("input",{type:"checkbox",name:"print_purchase_page",id:"print_purchase_page",checked:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_purchase_page",!1),value:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_purchase_page",!1),onInput:a[1]||(a[1]=function(e){var a;return(0,l.SU)(s.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_purchase_page",!(null!==(a=(0,l.SU)(t))&&void 0!==a&&null!==(a=a.ecommerce)&&void 0!==a&&null!==(a=a.easydigitaldownloads)&&void 0!==a&&a.print_purchase_page))}),class:"mr:8"},null,40,S),(0,n._)("label",U,(0,i.zw)(e.__("License detail on the purchase page.","yabe-ukiyo")),1)]),(0,n._)("p",z,(0,i.zw)(e.__("The license will be shown on the user's purchase history page.")),1)])]),(0,n._)("tr",null,[(0,n._)("th",Z,[(0,n._)("label",V,(0,i.zw)(e.__("Receipt Email","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n._)("div",T,[(0,n._)("input",{type:"checkbox",name:"print_receipt_email",id:"print_receipt_email",checked:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_receipt_email",!1),value:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_receipt_email",!1),onInput:a[2]||(a[2]=function(e){var a;return(0,l.SU)(s.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.print_receipt_email",!(null!==(a=(0,l.SU)(t))&&void 0!==a&&null!==(a=a.ecommerce)&&void 0!==a&&null!==(a=a.easydigitaldownloads)&&void 0!==a&&a.print_receipt_email))}),class:"mr:8"},null,40,D),(0,n._)("label",C,(0,i.zw)(e.__("License detail on the receipt email.","yabe-ukiyo")),1)]),(0,n._)("p",P,(0,i.zw)(e.__("The license will be included in the receipt email for each successful purchase.")),1)])]),(0,n._)("tr",null,[(0,n._)("th",x,[(0,n._)("label",E,(0,i.zw)(e.__("Deactivate when Payment Status :","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n.Wm)(c,{multiple:"",options:j,selectable:F,modelValue:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.deactivate_when_payment_status",[]),"onUpdate:modelValue":a[3]||(a[3]=function(e){return(0,l.SU)(s.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.deactivate_when_payment_status",e)}),class:"w:25em"},null,8,["modelValue"]),(0,n._)("p",I,(0,i.zw)(e.__('The license will be deactivated when the payment status changes from "Completed" to the following status.',"yabe-ukiyo")),1)])]),(0,n._)("tr",null,[(0,n._)("th",L,[(0,n._)("label",G,(0,i.zw)(e.__("Revoke when Payment Status :","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n.Wm)(c,{multiple:"",options:j,selectable:F,modelValue:(0,l.SU)(o.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.revoke_when_payment_status",[]),"onUpdate:modelValue":a[4]||(a[4]=function(e){return(0,l.SU)(s.Z)((0,l.SU)(t),"ecommerce.easydigitaldownloads.revoke_when_payment_status",e)}),class:"w:25em"},null,8,["modelValue"]),(0,n._)("p",M,(0,i.zw)(e.__('The license will be revoked or deleted when the payment status changes from "Completed" to the following status.',"yabe-ukiyo")),1)])]),(0,n._)("tr",null,[(0,n._)("th",R,[(0,n._)("label",W,(0,i.zw)(e.__("Missing license","yabe-ukiyo")),1)]),(0,n._)("td",null,[(0,n._)("div",q,[(0,n._)("button",{type:"button",onClick:H,disabled:(0,l.SU)(O).isBusy,class:"button button-secondary"},(0,i.zw)(e.__("Generate Missing License Keys","yabe-ukiyo")),9,A)]),(0,n._)("p",B,(0,i.zw)(e.__("Generate the missing license keys for each purchase that was made before the integration was enabled.","yabe-ukiyo")),1)])])])])}}}}}]);